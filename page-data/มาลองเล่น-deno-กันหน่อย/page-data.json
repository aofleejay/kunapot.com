{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/มาลองเล่น-deno-กันหน่อย/","result":{"data":{"markdownRemark":{"html":"<p>เมื่อไม่นานมานี้อยากลองขึ้นโปรเจคด้วย TypeScript แบบเร็ว ๆ แล้วไปเจอมาว่ามีรันไทม์ตัวนึงชื่อ <a href=\"https://deno.land/\" target=\"_blank\">Deno</a> (หมุนอักษรจาก Node และคนทำคนเดียวกัน) โดยซัพพอร์ท TypeScript แบบ build-in มาเลย ก็เลยหยิบมาลองเล่นดู เลยเป็นที่มาของบทความนี้ครับ</p>\n<hr>\n<h2>มาถึง Hello World ก่อนเลย</h2>\n<p>สำหรับชาว Mac ก็ติดตั้งง่าย ๆ ผ่าน Homebrew ได้เลย</p>\n<deckgo-highlight-code   >\n          <code slot=\"code\">❯ brew install deno</code>\n        </deckgo-highlight-code>\n<p>แล้วเราก็สามารถสร้างไฟล์นามสกุล <strong>.ts</strong> ขึ้นมาใช้งานได้เลย</p>\n<deckgo-highlight-code language=\"typescript\"  >\n          <code slot=\"code\">// index.ts\nconst add = (a: number, b: number) =&gt; a + b\n\nconsole.log(add(1, 2))</code>\n        </deckgo-highlight-code>\n<p>สั่ง <strong>deno run index.ts</strong> ก็จะได้ผลลัพธ์ที่ต้องการ โดยไม่ต้องลง TypeScript compiler แยกเลย</p>\n<deckgo-highlight-code   >\n          <code slot=\"code\">❯ deno run index.ts\nCheck file:///index.ts\n3</code>\n        </deckgo-highlight-code>\n<hr>\n<h2>เล่น Library กันอีกหน่อย</h2>\n<p>งานที่ผมอยากทำก็เป็น API โดย Deno ก็มี library พื้นฐานอย่าง <a href=\"https://deno.land/std/http\" target=\"_blank\">http</a> ที่เป็น <a href=\"https://deno.land/std\" target=\"_blank\">standard library</a> ให้ใช้ได้เลย แต่ส่วนตัวอยากได้ตัวจัดการ router ด้วย เลยเลือกใช้ <a href=\"https://deno.land/x/oak\" target=\"_blank\">oak</a> (หมุนอักษรจาก koa) ที่เป็น third party library เอามาใช้งาน</p>\n<p>อีกสิ่งนึงที่ต่างกับ Node ก็คือเราจะใช้การ import library ผ่าน url แทน</p>\n<deckgo-highlight-code language=\"typescript\"  >\n          <code slot=\"code\">import { Application, Router } from &#39;https://deno.land/x/oak/mod.ts&#39;\n\nconst app = new Application()\nconst router = new Router()\n\nrouter.get(&#39;/&#39;, (ctx) =&gt; {\n  ctx.response.body = { status: &#39;ok&#39; }\n})\n\napp.use(router.routes())\napp.use(router.allowedMethods())\n\nawait app.listen({ port: 8000 })</code>\n        </deckgo-highlight-code>\n<p>โดย Deno จะรันแบบ secure by default คือโค้ดด้านบนจะมีการใช้ network ตอนรันก็เลยต้องขอ permission ก่อน จึงต้องเพิ่ม flag <strong>allow-net</strong> เข้าไปตอนรันด้วย (อยากเข้าถึงส่วนอื่น ๆ เช่น  file system, env ก็ไปใส่ flag ตามที่ใช้งาน ไม่งั้นจะรันไม่ได้นะ)</p>\n<deckgo-highlight-code   >\n          <code slot=\"code\">❯ deno run --allow-net index.ts</code>\n        </deckgo-highlight-code>\n<hr>\n<h2>Build-in Tools</h2>\n<p>สิ่งนึงที่ชอบก็คือ Deno มาพร้อมเครื่องมือสำหรับการ ship, format, test, watch code พร้อมเลย เช่น</p>\n<ul>\n<li>อยาก build เป็น binary ก็สามารถใช้ <strong>deno compile</strong></li>\n<li>อยากรีโหลดโค้ดอัตโนมัติตอนแก้ไขไฟล์ ก็ใช้ <strong>deno run --watch index.ts</strong></li>\n<li>อยากจัด format โค้ด ก็ใช้ <strong>deno fmt</strong></li>\n<li>อยากเขียนเทส ก็ใช้ <strong>deno test</strong></li>\n</ul>\n<hr>\n<h2>Deploy ด้วย Deno Deploy</h2>\n<p>สุดท้ายจะเอาขึ้นให้คนใช้งานก็สามารถใช้ <a href=\"https://deno.com/deploy\" target=\"_blank\">Deno Deploy</a> ในการได้เลย โดยจะ connect ผ่าน Git repository หรือจะสร้างเป็น playground พิมพ์โค้ดผ่าน console ในหน้าเว็บ แล้ว deploy ขึ้นใช้งานเลยก็ได้ สะดวกมาก ๆ ครับ</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec402cd26e34fe62b98d649ba9fa040d/b157b/deno-deploy.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.142857142857146%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdYErD//xAAZEAACAwEAAAAAAAAAAAAAAAAAAgEDExD/2gAIAQEAAQUCxSTCszVewf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAAEEAwAAAAAAAAAAAAAAAAABICExkbHh/9oACAEBAAY/AulLkjbP/8QAGxAAAwACAwAAAAAAAAAAAAAAAAExESFhcfH/2gAIAQEAAT8hqae+Z7EiRpdh0yyT/9oADAMBAAIAAwAAABBzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAAICAQUBAAAAAAAAAAAAAAABESGRMUFRYbHw/9oACAEBAAE/ENczaXy5F8z6K5xcSesRJ4SVnY8lmm73P//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ec402cd26e34fe62b98d649ba9fa040d/ae84d/deno-deploy.webp 175w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/7fb5e/deno-deploy.webp 350w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/2fc75/deno-deploy.webp 700w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/05ee9/deno-deploy.webp 1050w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/b48f1/deno-deploy.webp 1400w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/2d980/deno-deploy.webp 2768w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ec402cd26e34fe62b98d649ba9fa040d/6b97f/deno-deploy.jpg 175w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/86423/deno-deploy.jpg 350w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/43804/deno-deploy.jpg 700w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/518fe/deno-deploy.jpg 1050w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/e3000/deno-deploy.jpg 1400w,\n/static/ec402cd26e34fe62b98d649ba9fa040d/b157b/deno-deploy.jpg 2768w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ec402cd26e34fe62b98d649ba9fa040d/43804/deno-deploy.jpg\"\n            alt=\"deno-deploy\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<hr>\n<p>สำหรับใครที่ลองเล่นแล้วก็สามารถเข้ามาเล่าสู่กันฟังได้นะครับ Happy Coding :) ครับผม</p>","frontmatter":{"title":"มาลองเล่น Deno กันหน่อย","description":"เมื่อไม่นานมานี้อยากลองขึ้นโปรเจคด้วย TypeScript แบบเร็ว ๆ แล้วไปเจอมาว่ามีรันไทม์ตัวนึงชื่อ Deno โดยซัพพอร์ท TypeScript แบบ build-in มาเลย ก็เลยหยิบมาลองเล่นดู เลยเป็นที่มาของบทความนี้ครับ","tags":["เล่าโค้ด","deno"],"coverImage":{"name":"มาลองเล่น-deno-กันหน่อย-cover-image","publicURL":"/static/34c2a81f712942487219a102da11affb/มาลองเล่น-deno-กันหน่อย-cover-image.jpg","childImageSharp":{"original":{"src":"/static/มาลองเล่น-deno-กันหน่อย-cover-image-34c2a81f712942487219a102da11affb.jpg","width":1600,"height":873}}},"date":"2 years ago"},"fields":{"slug":"/มาลองเล่น-deno-กันหน่อย/"},"timeToRead":1},"site":{"siteMetadata":{"siteUrl":"https://kunapot.com","disqus":{"shortName":"aofleejay"}}}},"pageContext":{"slug":"/มาลองเล่น-deno-กันหน่อย/"}},"staticQueryHashes":["145533568","672108349"],"slicesMap":{}}