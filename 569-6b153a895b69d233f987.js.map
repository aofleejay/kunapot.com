{"version":3,"file":"569-6b153a895b69d233f987.js","mappings":"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","sources":["webpack://aofleejay.com/./node_modules/preact-render-to-string/dist/index.mjs","webpack://aofleejay.com/../src/components/intersection-observer.ts","webpack://aofleejay.com/../src/components/lazy-hydrate.tsx"],"sourcesContent":["import { options as e, Fragment as t } from \"preact\";\nvar r = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,\n    n = /[&<>\"]/;\n\nfunction o(e) {\n  var t = String(e);\n  return n.test(t) ? t.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\") : t;\n}\n\nvar a = function a(e, t) {\n  return String(e).replace(/(\\n+)/g, \"$1\" + (t || \"\\t\"));\n},\n    i = function i(e, t, r) {\n  return String(e).length > (t || 40) || !r && -1 !== String(e).indexOf(\"\\n\") || -1 !== String(e).indexOf(\"<\");\n},\n    l = {};\n\nfunction s(e) {\n  var t = \"\";\n\n  for (var n in e) {\n    var o = e[n];\n    null != o && \"\" !== o && (t && (t += \" \"), t += \"-\" == n[0] ? n : l[n] || (l[n] = n.replace(/([A-Z])/g, \"-$1\").toLowerCase()), t += \": \", t += o, \"number\" == typeof o && !1 === r.test(n) && (t += \"px\"), t += \";\");\n  }\n\n  return t || void 0;\n}\n\nfunction f(e, t) {\n  for (var r in t) {\n    e[r] = t[r];\n  }\n\n  return e;\n}\n\nfunction u(e, t) {\n  return Array.isArray(t) ? t.reduce(u, e) : null != t && !1 !== t && e.push(t), e;\n}\n\nvar c = {\n  shallow: !0\n},\n    p = [],\n    _ = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,\n    d = /[\\s\\n\\\\/='\"\\0<>]/;\n\nfunction v() {\n  this.__d = !0;\n}\n\nm.render = m;\n\nvar g = function g(e, t) {\n  return m(e, t, c);\n},\n    h = [];\n\nfunction m(t, r, n) {\n  r = r || {}, n = n || {};\n  var o = e.__s;\n  e.__s = !0;\n  var a = x(t, r, n);\n  return e.__c && e.__c(t, h), h.length = 0, e.__s = o, a;\n}\n\nfunction x(r, n, l, c, g, h) {\n  if (null == r || \"boolean\" == typeof r) return \"\";\n  if (\"object\" != typeof r) return o(r);\n  var m = l.pretty,\n      y = m && \"string\" == typeof m ? m : \"\\t\";\n\n  if (Array.isArray(r)) {\n    for (var b = \"\", S = 0; S < r.length; S++) {\n      m && S > 0 && (b += \"\\n\"), b += x(r[S], n, l, c, g, h);\n    }\n\n    return b;\n  }\n\n  var k,\n      w = r.type,\n      O = r.props,\n      C = !1;\n\n  if (\"function\" == typeof w) {\n    if (C = !0, !l.shallow || !c && !1 !== l.renderRootComponent) {\n      if (w === t) {\n        var A = [];\n        return u(A, r.props.children), x(A, n, l, !1 !== l.shallowHighOrder, g, h);\n      }\n\n      var H,\n          j = r.__c = {\n        __v: r,\n        context: n,\n        props: r.props,\n        setState: v,\n        forceUpdate: v,\n        __d: !0,\n        __h: []\n      };\n      e.__b && e.__b(r);\n      var F = e.__r;\n\n      if (w.prototype && \"function\" == typeof w.prototype.render) {\n        var M = w.contextType,\n            T = M && n[M.__c],\n            $ = null != M ? T ? T.props.value : M.__ : n;\n        (j = r.__c = new w(O, $)).__v = r, j._dirty = j.__d = !0, j.props = O, null == j.state && (j.state = {}), null == j._nextState && null == j.__s && (j._nextState = j.__s = j.state), j.context = $, w.getDerivedStateFromProps ? j.state = f(f({}, j.state), w.getDerivedStateFromProps(j.props, j.state)) : j.componentWillMount && (j.componentWillMount(), j.state = j._nextState !== j.state ? j._nextState : j.__s !== j.state ? j.__s : j.state), F && F(r), H = j.render(j.props, j.state, j.context);\n      } else for (var L = w.contextType, E = L && n[L.__c], D = null != L ? E ? E.props.value : L.__ : n, N = 0; j.__d && N++ < 25;) {\n        j.__d = !1, F && F(r), H = w.call(r.__c, O, D);\n      }\n\n      return j.getChildContext && (n = f(f({}, n), j.getChildContext())), e.diffed && e.diffed(r), x(H, n, l, !1 !== l.shallowHighOrder, g, h);\n    }\n\n    w = (k = w).displayName || k !== Function && k.name || function (e) {\n      var t = (Function.prototype.toString.call(e).match(/^\\s*function\\s+([^( ]+)/) || \"\")[1];\n\n      if (!t) {\n        for (var r = -1, n = p.length; n--;) {\n          if (p[n] === e) {\n            r = n;\n            break;\n          }\n        }\n\n        r < 0 && (r = p.push(e) - 1), t = \"UnnamedComponent\" + r;\n      }\n\n      return t;\n    }(k);\n  }\n\n  var P,\n      R,\n      U = \"<\" + w;\n\n  if (O) {\n    var W = Object.keys(O);\n    l && !0 === l.sortAttributes && W.sort();\n\n    for (var q = 0; q < W.length; q++) {\n      var z = W[q],\n          I = O[z];\n\n      if (\"children\" !== z) {\n        if (!d.test(z) && (l && l.allAttributes || \"key\" !== z && \"ref\" !== z && \"__self\" !== z && \"__source\" !== z)) {\n          if (\"defaultValue\" === z) z = \"value\";else if (\"defaultChecked\" === z) z = \"checked\";else if (\"defaultSelected\" === z) z = \"selected\";else if (\"className\" === z) {\n            if (void 0 !== O.class) continue;\n            z = \"class\";\n          } else g && /^xlink:?./.test(z) && (z = z.toLowerCase().replace(/^xlink:?/, \"xlink:\"));\n\n          if (\"htmlFor\" === z) {\n            if (O.for) continue;\n            z = \"for\";\n          }\n\n          \"style\" === z && I && \"object\" == typeof I && (I = s(I)), \"a\" === z[0] && \"r\" === z[1] && \"boolean\" == typeof I && (I = String(I));\n          var V = l.attributeHook && l.attributeHook(z, I, n, l, C);\n          if (V || \"\" === V) U += V;else if (\"dangerouslySetInnerHTML\" === z) R = I && I.__html;else if (\"textarea\" === w && \"value\" === z) P = I;else if ((I || 0 === I || \"\" === I) && \"function\" != typeof I) {\n            if (!(!0 !== I && \"\" !== I || (I = z, l && l.xml))) {\n              U = U + \" \" + z;\n              continue;\n            }\n\n            if (\"value\" === z) {\n              if (\"select\" === w) {\n                h = I;\n                continue;\n              }\n\n              \"option\" === w && h == I && void 0 === O.selected && (U += \" selected\");\n            }\n\n            U = U + \" \" + z + '=\"' + o(I) + '\"';\n          }\n        }\n      } else P = I;\n    }\n  }\n\n  if (m) {\n    var Z = U.replace(/\\n\\s*/, \" \");\n    Z === U || ~Z.indexOf(\"\\n\") ? m && ~U.indexOf(\"\\n\") && (U += \"\\n\") : U = Z;\n  }\n\n  if (U += \">\", d.test(w)) throw new Error(w + \" is not a valid HTML tag name in \" + U);\n  var B,\n      G = _.test(w) || l.voidElements && l.voidElements.test(w),\n      J = [];\n  if (R) m && i(R) && (R = \"\\n\" + y + a(R, y)), U += R;else if (null != P && u(B = [], P).length) {\n    for (var K = m && ~U.indexOf(\"\\n\"), Q = !1, X = 0; X < B.length; X++) {\n      var Y = B[X];\n\n      if (null != Y && !1 !== Y) {\n        var ee = x(Y, n, l, !0, \"svg\" === w || \"foreignObject\" !== w && g, h);\n        if (m && !K && i(ee) && (K = !0), ee) if (m) {\n          var te = ee.length > 0 && \"<\" != ee[0];\n          Q && te ? J[J.length - 1] += ee : J.push(ee), Q = te;\n        } else J.push(ee);\n      }\n    }\n\n    if (m && K) for (var re = J.length; re--;) {\n      J[re] = \"\\n\" + y + a(J[re], y);\n    }\n  }\n  if (J.length || R) U += J.join(\"\");else if (l && l.xml) return U.substring(0, U.length - 1) + \" />\";\n  return !G || B || R ? (m && ~U.indexOf(\"\\n\") && (U += \"\\n\"), U = U + \"</\" + w + \">\") : U = U.replace(/>$/, \" />\"), U;\n}\n\nm.shallowRender = g;\nexport default m;\nexport { m as render, m as renderToStaticMarkup, m as renderToString, g as shallowRender };","let intersectionObserver: IntersectionObserver\n\nexport type Unobserver = () => void\n\nconst ioEntryMap = new WeakMap<HTMLElement, () => void>()\n/* eslint-disable @typescript-eslint/no-explicit-any  */\nconst connection =\n  (navigator as any).connection ||\n  (navigator as any).mozConnection ||\n  (navigator as any).webkitConnection\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n// These match the thresholds used in Chrome's native lazy loading\n// @see https://web.dev/browser-level-image-lazy-loading/#distance-from-viewport-thresholds\nconst FAST_CONNECTION_THRESHOLD = `1250px`\nconst SLOW_CONNECTION_THRESHOLD = `2500px`\n\nexport function createIntersectionObserver(\n  callback: () => void\n): (element: HTMLElement) => Unobserver {\n  const connectionType = connection?.effectiveType\n\n  // if we don't support intersectionObserver we don't lazy load (Sorry IE 11).\n  if (!(`IntersectionObserver` in window)) {\n    return function observe(): Unobserver {\n      callback()\n      return function unobserve(): void {}\n    }\n  }\n\n  if (!intersectionObserver) {\n    intersectionObserver = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            // Get the matching entry's callback and call it\n            ioEntryMap.get(entry.target as HTMLElement)?.()\n            // We only need to call it once\n            ioEntryMap.delete(entry.target as HTMLElement)\n          }\n        })\n      },\n      {\n        rootMargin:\n          connectionType === `4g` && !connection?.saveData\n            ? FAST_CONNECTION_THRESHOLD\n            : SLOW_CONNECTION_THRESHOLD,\n      }\n    )\n  }\n\n  return function observe(element: HTMLElement): Unobserver {\n    // Store a reference to the callback mapped to the element being watched\n    ioEntryMap.set(element, callback)\n    intersectionObserver.observe(element)\n\n    return function unobserve(): void {\n      if (intersectionObserver && element) {\n        ioEntryMap.delete(element)\n        intersectionObserver.unobserve(element)\n      }\n    }\n  }\n}\n","import React from \"react\"\nimport { renderToStaticMarkup } from \"react-dom/server\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage } from \"./main-image\"\nimport {\n  hasNativeLazyLoadSupport,\n  getMainProps,\n  getPlaceholderProps,\n} from \"./hooks\"\nimport { createIntersectionObserver } from \"./intersection-observer\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { GatsbyImageProps } from \"./gatsby-image.browser\"\n\ntype LazyHydrateProps = Omit<GatsbyImageProps, \"as\" | \"style\" | \"className\"> & {\n  isLoading: boolean\n  isLoaded: boolean\n}\n\nasync function applyPolyfill(element: HTMLImageElement): Promise<void> {\n  if (!(`objectFitPolyfill` in window)) {\n    await import(\n      // @ts-ignore typescript can't find the module for some reason ¯\\_(ツ)_/¯\n      /* webpackChunkName: \"gatsby-plugin-image-objectfit-polyfill\" */ `objectFitPolyfill`\n    )\n  }\n  ;(window as any).objectFitPolyfill(element)\n}\n\nfunction toggleLoaded(\n  mainImage: HTMLElement,\n  placeholderImage: HTMLElement\n): void {\n  mainImage.style.opacity = `1`\n\n  if (placeholderImage) {\n    placeholderImage.style.opacity = `0`\n  }\n}\n\nfunction startLoading(\n  element: HTMLElement,\n  cacheKey: string,\n  imageCache: Set<string>,\n  onStartLoad: GatsbyImageProps[\"onStartLoad\"],\n  onLoad: GatsbyImageProps[\"onLoad\"],\n  onError: GatsbyImageProps[\"onError\"]\n): () => void {\n  const mainImage = element.querySelector(\n    `[data-main-image]`\n  ) as HTMLImageElement\n  const placeholderImage = element.querySelector<HTMLElement>(\n    `[data-placeholder-image]`\n  )\n  const isCached = imageCache.has(cacheKey)\n\n  function onImageLoaded(e): void {\n    // eslint-disable-next-line @babel/no-invalid-this\n    this.removeEventListener(`load`, onImageLoaded)\n\n    const target = e.currentTarget\n    const img = new Image()\n    img.src = target.currentSrc\n\n    if (img.decode) {\n      // Decode the image through javascript to support our transition\n      img\n        .decode()\n        .then(() => {\n          // eslint-disable-next-line @babel/no-invalid-this\n          toggleLoaded(this, placeholderImage)\n          onLoad?.({\n            wasCached: isCached,\n          })\n        })\n        .catch(e => {\n          // eslint-disable-next-line @babel/no-invalid-this\n          toggleLoaded(this, placeholderImage)\n          onError?.(e)\n        })\n    } else {\n      // eslint-disable-next-line @babel/no-invalid-this\n      toggleLoaded(this, placeholderImage)\n      onLoad?.({\n        wasCached: isCached,\n      })\n    }\n  }\n\n  mainImage.addEventListener(`load`, onImageLoaded)\n\n  onStartLoad?.({\n    wasCached: isCached,\n  })\n  Array.from(mainImage.parentElement.children).forEach(child => {\n    const src = child.getAttribute(`data-src`)\n    const srcSet = child.getAttribute(`data-srcset`)\n    if (src) {\n      child.removeAttribute(`data-src`)\n      child.setAttribute(`src`, src)\n    }\n    if (srcSet) {\n      child.removeAttribute(`data-srcset`)\n      child.setAttribute(`srcset`, srcSet)\n    }\n  })\n\n  imageCache.add(cacheKey)\n\n  // Load times not always fires - mostly when it's a 304\n  // We check if the image is already completed and if so we trigger onload.\n  if (mainImage.complete) {\n    onImageLoaded.call(mainImage, {\n      currentTarget: mainImage,\n    })\n  }\n\n  return (): void => {\n    if (mainImage) {\n      mainImage.removeEventListener(`load`, onImageLoaded)\n    }\n  }\n}\n\nexport function swapPlaceholderImage(\n  element: HTMLElement,\n  cacheKey: string,\n  imageCache: Set<string>,\n  style: React.CSSProperties,\n  onStartLoad: GatsbyImageProps[\"onStartLoad\"],\n  onLoad: GatsbyImageProps[\"onLoad\"],\n  onError: GatsbyImageProps[\"onError\"]\n): () => void {\n  if (!hasNativeLazyLoadSupport()) {\n    let cleanup\n    const io = createIntersectionObserver(() => {\n      cleanup = startLoading(\n        element,\n        cacheKey,\n        imageCache,\n        onStartLoad,\n        onLoad,\n        onError\n      )\n    })\n    const unobserve = io(element)\n\n    // Polyfill \"object-fit\" if unsupported (mostly IE)\n    if (!(`objectFit` in document.documentElement.style)) {\n      element.dataset.objectFit = style.objectFit ?? `cover`\n      element.dataset.objectPosition = `${style.objectPosition ?? `50% 50%`}`\n      applyPolyfill(element as HTMLImageElement)\n    }\n\n    return (): void => {\n      if (cleanup) {\n        cleanup()\n      }\n\n      unobserve()\n    }\n  }\n\n  return startLoading(\n    element,\n    cacheKey,\n    imageCache,\n    onStartLoad,\n    onLoad,\n    onError\n  )\n}\n\nexport function renderImageToString({\n  image,\n  loading = `lazy`,\n  isLoading,\n  isLoaded,\n  imgClassName,\n  imgStyle = {},\n  objectPosition,\n  backgroundColor,\n  objectFit = `cover`,\n  ...props\n}: LazyHydrateProps): string {\n  const {\n    width,\n    height,\n    layout,\n    images,\n    placeholder,\n    backgroundColor: wrapperBackgroundColor,\n  } = image\n\n  imgStyle = {\n    objectFit,\n    objectPosition,\n    backgroundColor,\n    ...imgStyle,\n  }\n\n  return renderToStaticMarkup(\n    <LayoutWrapper layout={layout} width={width} height={height}>\n      <Placeholder\n        {...getPlaceholderProps(\n          placeholder,\n          isLoaded,\n          layout,\n          width,\n          height,\n          wrapperBackgroundColor,\n          objectFit,\n          objectPosition\n        )}\n      />\n\n      <MainImage\n        {...(props as Omit<\n          MainImageProps,\n          \"images\" | \"fallback\" | \"onLoad\" | \"onError\"\n        >)}\n        width={width}\n        height={height}\n        className={imgClassName}\n        {...getMainProps(isLoading, isLoaded, images, loading, imgStyle)}\n      />\n    </LayoutWrapper>\n  )\n}\n"],"names":["r","n","o","e","t","String","test","replace","a","i","length","indexOf","l","s","toLowerCase","f","u","Array","isArray","reduce","push","c","shallow","p","_","d","v","this","__d","m","render","h","x","g","pretty","y","b","S","k","w","type","O","props","C","renderRootComponent","A","children","shallowHighOrder","H","j","__c","__v","context","setState","forceUpdate","__h","F","prototype","M","contextType","T","$","value","__","_dirty","state","_nextState","__s","getDerivedStateFromProps","componentWillMount","L","E","D","N","call","getChildContext","displayName","Function","name","toString","match","P","R","U","W","Object","keys","sortAttributes","sort","q","z","I","allAttributes","class","for","V","attributeHook","__html","xml","selected","Z","Error","B","G","voidElements","J","K","Q","X","Y","ee","te","re","join","substring","shallowRender","WeakMap","navigator","connection","mozConnection","webkitConnection","mainImage","placeholderImage","style","opacity","element","cacheKey","imageCache","onStartLoad","onLoad","onError","querySelector","has","removeEventListener","onImageLoaded","currentTarget","Image","img","src","target","currentSrc","decode","then","toggleLoaded","wasCached","isCached","catch","addEventListener","from","parentElement","forEach","child","getAttribute","removeAttribute","setAttribute","srcSet","add","complete","hasNativeLazyLoadSupport","callback","cleanup","startLoading","intersectionObserver","IntersectionObserver","entries","entry","isIntersecting","ioEntryMap","get","delete","rootMargin","effectiveType","saveData","set","observe","unobserve","io","documentElement","dataset","objectFit","objectPosition","async","window","objectFitPolyfill","image","loading","isLoading","isLoaded","imgClassName","imgStyle","backgroundColor","width","height","layout","images","placeholder","wrapperBackgroundColor","React","LayoutWrapper","Placeholder","getPlaceholderProps","MainImage","className","getMainProps"],"sourceRoot":""}